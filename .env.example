# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
DATABASE_URL=postgresql://usuario:senha@localhost:5432/agentenaval
# Exemplo para Railway: postgresql://user:pass@containers-us-west-xxx.railway.app:5432/railway

# ============================================================================
# OPENAI CONFIGURATION
# ============================================================================
OPENAI_API_KEY=sk-your-api-key-here
OPENAI_MODEL=gpt-4o-mini
OPENAI_MAX_TOKENS=500
OPENAI_TEMPERATURE=0.7
OPENAI_COST_LIMIT_MONTHLY=20  # USD - limite mensal para alertas

# ============================================================================
# EVOLUTION API CONFIGURATION (WhatsApp)
# ============================================================================
EVOLUTION_API_URL=https://your-evolution-instance.com
EVOLUTION_API_KEY=your-api-key
EVOLUTION_INSTANCE_ID=your-instance-id

# ============================================================================
# WEBHOOK SECURITY
# ============================================================================
# Use um token aleatório strong ou HMAC key
WEBHOOK_SECRET=your-secure-webhook-secret-min-32-chars

# ============================================================================
# PROMPT VERSIONING
# ============================================================================
# Versão do prompt a usar (ex: v1.0, v1.1, etc)
PROMPT_VERSION=v1.0

# ============================================================================
# RATE LIMITING
# ============================================================================
RATE_LIMIT_PER_PHONE=30      # Requisições por minuto por telefone
RATE_LIMIT_GLOBAL=100        # Requisições por minuto globalmente

# ============================================================================
# REGIÕES ELEGÍVEIS
# ============================================================================
# Estados elegíveis para franquias (comma-separated)
ELIGIBLE_REGIONS=RS,SC,PR,SP,RJ,MG,ES,GO,MT,MS,DF
# Regiões de interesse/registro (para análise de demanda futura)
INTEREST_REGIONS=BA,PE,CE,RN,PB,AL,SE,PI,MA,AP,AM,RR,AC,TO

# ============================================================================
# EMAIL/NOTIFICAÇÕES
# ============================================================================
ALERT_EMAIL=vendedor@empresa.com
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password  # Gmail: use app password, não a senha normal
SMTP_FROM=noreply@empresa.com

# ============================================================================
# LOGGING
# ============================================================================
ENVIRONMENT=development  # development, staging, production
LOG_LEVEL=INFO           # DEBUG, INFO, WARNING, ERROR, CRITICAL

# ============================================================================
# SCHEDULING (Follow-up automático - Fase 2)
# ============================================================================
SCHEDULER_ENABLED=false  # Desabilitar no MVP, habilitar na Fase 2
SCHEDULER_INTERVAL_MINUTES=30  # Executar scheduler a cada 30 minutos

# ============================================================================
# SECURITY
# ============================================================================
SECRET_KEY=your-super-secret-key-for-flask  # para sessions, CSRF, etc
CORS_ORIGINS=https://evolution-api.example.com  # Origins permitidos

# ============================================================================
# MONITORING & ALERTING
# ============================================================================
ALERT_COST_THRESHOLD_WARNING=0.5   # 50% do limite
ALERT_COST_THRESHOLD_CRITICAL=0.8  # 80% do limite

# ============================================================================
# TIMEOUTS & LIMITS
# ============================================================================
OPENAI_TIMEOUT_SECONDS=3        # Máximo de latência para resposta do agente
WEBHOOK_TIMEOUT_SECONDS=5       # Timeout para processamento do webhook
LEAD_INACTIVITY_HOURS=2         # Tempo para marcar lead como sem_resposta

# ============================================================================
# FEATURE FLAGS
# ============================================================================
FEATURE_SCHEDULING=true         # Habilitar agendamento
FEATURE_NOTIFICATIONS=true      # Habilitar notificações por email
FEATURE_ANALYTICS=false         # Desabilitar no MVP, habilitar Fase 3

# ============================================================================
# REDIS (opcional, para caching de prompts - Fase 2)
# ============================================================================
# REDIS_URL=redis://localhost:6379/0
